---
layout: post
category : all
tagline: "Supporting tagline"
tags: [thing, things]
title: "硬盘分区与 \"4k对齐\""
date: 2012-12-21
---
**什么情况？**    
早期硬盘每扇区是512字节，随着硬盘新技术，新标准的出现，固态硬盘(Solid State Disk)，大容量硬盘等新技术使用 Advanced Format (高级格式化) 设计标准，其规定每扇区4096字节，出于兼容性等因素考虑，新硬盘用固件对 OS 伪装成512字节。    
    
如果不针对 &quot;4K对齐&quot; 问题进行分区，那么格式化NTFS后会出现NTFS逻辑扇区和硬盘的物理扇区不对齐。如果没有对齐最显著的是后果会造成读写速度低下，对于SSD还会减少寿命。    
    
**哪些硬盘需要对齐？**    
所有SSD（固态硬盘）；2011年1月1日后的机械硬盘，都会遵循先进格式化标准，使用先进格式化标准的硬盘，背面应该有 Advanced Format Drive ... 的字样。    
    
!\[aa\](/upload/68f99acb6a50.jpg "aa")    
    
**如何对齐？**    
用DiskGenius工具分区进行分区，分区时选择“对齐到下列扇区的整数倍”扇区数选择8或以上。    
    
!\[aa\](/upload/744182e7a6d7.jpg "aa")    
    
**如何验证是否4K对齐?**    
在Linux下，fdisk \-lu 就可以(需要root权限)    
查看每个分区起始的数字，能被8整除，就是4K对齐。    
    
在Windows下使用工具AS SSD Benchmark，左上角选择要查看的分区，如果有XXXX K\-OK字样则说明以对齐，如果是XXXX K\-BAD字样则说明该分区没有对齐。    
    
**老式没用使用4K扇区的硬盘，需要对齐吗？如果对齐了会怎样？**    
老式硬盘使用512B扇区，不需要对齐，如果对齐了不会有什么不良影响。